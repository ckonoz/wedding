[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\n$ = Package.jquery.$;\njQuery = Package.jquery.jQuery;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nReactMeteorData = Package['react-meteor-data'].ReactMeteorData;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nTemplate = Package.templating.Template;\nmeteorInstall = Package.modules.meteorInstall;\nBuffer = Package.modules.Buffer;\nprocess = Package.modules.process;\nSymbol = Package['ecmascript-runtime'].Symbol;\nMap = Package['ecmascript-runtime'].Map;\nSet = Package['ecmascript-runtime'].Set;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"client\":{\"template.main.js\":function(){\n\n//////////////////////////////////////////////////////////////////////////////////////\n//                                                                                  //\n// client/template.main.js                                                          //\n//                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////\n                                                                                    //\n                                                                                    // 1\nTemplate.body.addContent((function() {                                              // 2\n  var view = this;                                                                  // 3\n  return HTML.Raw('<div id=\"render-target\"></div>');                                // 4\n}));                                                                                // 5\nMeteor.startup(Template.body.renderToDocument);                                     // 6\n                                                                                    // 7\n//////////////////////////////////////////////////////////////////////////////////////\n\n},\"main.js\":[\"react\",\"meteor/meteor\",\"react-dom\",\"../imports/ui/landing.js\",function(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////\n//                                                                                  //\n// client/main.js                                                                   //\n//                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////\n                                                                                    //\nvar React;module.import('react',{\"default\":function(v){React=v}});var Meteor;module.import('meteor/meteor',{\"Meteor\":function(v){Meteor=v}});var render;module.import('react-dom',{\"render\":function(v){render=v}});var App;module.import('../imports/ui/landing.js',{\"default\":function(v){App=v}});\n                                                                                    // 2\n                                                                                    // 3\n                                                                                    //\n                                                                                    // 5\n                                                                                    //\nMeteor.startup(function () {                                                        // 7\n  render(React.createElement(App, null), document.getElementById('render-target'));\n});                                                                                 // 9\n//////////////////////////////////////////////////////////////////////////////////////\n\n}]},\"imports\":{\"api\":{\"guests.js\":[\"meteor/meteor\",\"meteor/mongo\",\"meteor/check\",function(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////\n//                                                                                  //\n// imports/api/guests.js                                                            //\n//                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////\n                                                                                    //\nmodule.export({Guests:function(){return Guests}});var Meteor;module.import('meteor/meteor',{\"Meteor\":function(v){Meteor=v}});var Mongo;module.import('meteor/mongo',{\"Mongo\":function(v){Mongo=v}});var check;module.import('meteor/check',{\"check\":function(v){check=v}});\n                                                                                    // 2\n                                                                                    // 3\n                                                                                    //\nvar Guests = new Mongo.Collection('guests');                                        // 5\n                                                                                    //\nif (Meteor.isServer) {                                                              // 7\n  // This code only runs on the server                                              //\n  // Only publish guests that are public or belong to the current user              //\n  Meteor.publish('guests', function () {                                            // 10\n    function guestsPublication() {                                                  // 10\n      return Guests.find({                                                          // 11\n        $or: [{ 'private': { $ne: true } }, { owner: this.userId }]                 // 12\n      });                                                                           // 11\n    }                                                                               // 17\n                                                                                    //\n    return guestsPublication;                                                       // 10\n  }());                                                                             // 10\n}                                                                                   // 18\n                                                                                    //\nMeteor.methods({                                                                    // 20\n  'guests.insert': function () {                                                    // 21\n    function guestsInsert(text) {                                                   // 20\n      check(text, String);                                                          // 22\n                                                                                    //\n      // Make sure the user is logged in before inserting a guest                   //\n      if (!this.userId) {                                                           // 25\n        throw new Meteor.Error('not-authorized');                                   // 26\n      }                                                                             // 27\n                                                                                    //\n      Guests.insert({                                                               // 29\n        text: text,                                                                 // 30\n        createdAt: new Date(),                                                      // 31\n        owner: this.userId,                                                         // 32\n        username: Meteor.users.findOne(this.userId).username                        // 33\n      });                                                                           // 29\n    }                                                                               // 35\n                                                                                    //\n    return guestsInsert;                                                            // 20\n  }(),                                                                              // 20\n  'guests.remove': function () {                                                    // 36\n    function guestsRemove(guestId) {                                                // 20\n      check(guestId, String);                                                       // 37\n                                                                                    //\n      var guest = Guests.findOne(guestId);                                          // 39\n      if (guest['private'] && guest.owner !== this.userId) {                        // 40\n        // If the guest is private, make sure only the owner can delete it          //\n        throw new Meteor.Error('not-authorized');                                   // 42\n      }                                                                             // 43\n                                                                                    //\n      Guests.remove(guestId);                                                       // 45\n    }                                                                               // 46\n                                                                                    //\n    return guestsRemove;                                                            // 20\n  }(),                                                                              // 20\n  'guests.setChecked': function () {                                                // 47\n    function guestsSetChecked(guestId, setChecked) {                                // 20\n      check(guestId, String);                                                       // 48\n      check(setChecked, Boolean);                                                   // 49\n                                                                                    //\n      var guest = Guests.findOne(guestId);                                          // 51\n      if (guest['private'] && guest.owner !== this.userId) {                        // 52\n        // If the guest is private, make sure only the owner can check it off       //\n        throw new Meteor.Error('not-authorized');                                   // 54\n      }                                                                             // 55\n                                                                                    //\n      Guests.update(guestId, { $set: { checked: setChecked } });                    // 57\n    }                                                                               // 58\n                                                                                    //\n    return guestsSetChecked;                                                        // 20\n  }(),                                                                              // 20\n  'guests.setPrivate': function () {                                                // 59\n    function guestsSetPrivate(guestId, setToPrivate) {                              // 20\n      check(guestId, String);                                                       // 60\n      check(setToPrivate, Boolean);                                                 // 61\n                                                                                    //\n      var guest = Guests.findOne(guestId);                                          // 63\n                                                                                    //\n      // Make sure only the guest owner can make a guest private                    //\n      if (guest.owner !== this.userId) {                                            // 66\n        throw new Meteor.Error('not-authorized');                                   // 67\n      }                                                                             // 68\n                                                                                    //\n      Guests.update(guestId, { $set: { 'private': setToPrivate } });                // 70\n    }                                                                               // 71\n                                                                                    //\n    return guestsSetPrivate;                                                        // 20\n  }()                                                                               // 20\n});                                                                                 // 20\n//////////////////////////////////////////////////////////////////////////////////////\n\n}]},\"ui\":{\"guest.js\":[\"babel-runtime/helpers/classCallCheck\",\"babel-runtime/helpers/possibleConstructorReturn\",\"babel-runtime/helpers/inherits\",\"react\",function(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////\n//                                                                                  //\n// imports/ui/guest.js                                                              //\n//                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////\n                                                                                    //\nvar _classCallCheck;module.import('babel-runtime/helpers/classCallCheck',{\"default\":function(v){_classCallCheck=v}});var _possibleConstructorReturn;module.import('babel-runtime/helpers/possibleConstructorReturn',{\"default\":function(v){_possibleConstructorReturn=v}});var _inherits;module.import('babel-runtime/helpers/inherits',{\"default\":function(v){_inherits=v}});var React,Component,PropTypes;module.import('react',{\"default\":function(v){React=v},\"Component\":function(v){Component=v},\"PropTypes\":function(v){PropTypes=v}});\n                                                                                    //\n                                                                                    //\n                                                                                    // 1\n                                                                                    //\n// Guest component - represents a single todo item                                  //\n                                                                                    //\nvar Guest = function (_Component) {                                                 //\n  _inherits(Guest, _Component);                                                     //\n                                                                                    //\n  function Guest() {                                                                //\n    _classCallCheck(this, Guest);                                                   //\n                                                                                    //\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));     //\n  }                                                                                 //\n                                                                                    //\n  Guest.prototype.render = function () {                                            //\n    function render() {                                                             //\n      var guest = this.props.guest;                                                 // 7\n      return React.createElement(                                                   // 8\n        'li',                                                                       // 9\n        null,                                                                       // 9\n        guest.firstName,                                                            // 9\n        ' ',                                                                        // 9\n        guest.lastName                                                              // 9\n      );                                                                            // 9\n    }                                                                               // 11\n                                                                                    //\n    return render;                                                                  //\n  }();                                                                              //\n                                                                                    //\n  return Guest;                                                                     //\n}(Component);                                                                       //\n                                                                                    //\nmodule.export(\"default\",exports.default=(Guest));                                   //\n                                                                                    //\n                                                                                    //\nGuest.propTypes = {                                                                 // 14\n  guest: PropTypes.object.isRequired                                                // 15\n};                                                                                  // 14\n//////////////////////////////////////////////////////////////////////////////////////\n\n}],\"landing.js\":[\"babel-runtime/helpers/classCallCheck\",\"babel-runtime/helpers/possibleConstructorReturn\",\"babel-runtime/helpers/inherits\",\"react\",\"react-dom\",\"meteor/react-meteor-data\",\"../api/guests.js\",\"./guest.js\",function(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////\n//                                                                                  //\n// imports/ui/landing.js                                                            //\n//                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////\n                                                                                    //\nvar _classCallCheck;module.import('babel-runtime/helpers/classCallCheck',{\"default\":function(v){_classCallCheck=v}});var _possibleConstructorReturn;module.import('babel-runtime/helpers/possibleConstructorReturn',{\"default\":function(v){_possibleConstructorReturn=v}});var _inherits;module.import('babel-runtime/helpers/inherits',{\"default\":function(v){_inherits=v}});var React,Component,PropTypes;module.import('react',{\"default\":function(v){React=v},\"Component\":function(v){Component=v},\"PropTypes\":function(v){PropTypes=v}});var ReactDOM;module.import('react-dom',{\"default\":function(v){ReactDOM=v}});var createContainer;module.import('meteor/react-meteor-data',{\"createContainer\":function(v){createContainer=v}});var Guests;module.import('../api/guests.js',{\"Guests\":function(v){Guests=v}});var Guest;module.import('./guest.js',{\"default\":function(v){Guest=v}});\n                                                                                    //\n                                                                                    //\n                                                                                    // 1\n                                                                                    // 2\n                                                                                    // 3\n                                                                                    // 4\n                                                                                    //\n                                                                                    // 6\n                                                                                    //\n// App component - represents the whole app                                         //\n                                                                                    //\nvar App = function (_Component) {                                                   //\n  _inherits(App, _Component);                                                       //\n                                                                                    //\n  function App() {                                                                  //\n    _classCallCheck(this, App);                                                     //\n                                                                                    //\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));     //\n  }                                                                                 //\n                                                                                    //\n  App.prototype.handleSubmit = function () {                                        //\n    function handleSubmit(event) {                                                  //\n      event.preventDefault();                                                       // 11\n                                                                                    //\n      // Find the text field via the React ref                                      //\n      var text = ReactDOM.findDOMNode(this.refs.textInput).value.trim();            // 14\n                                                                                    //\n      Guests.insert({                                                               // 16\n        text: text,                                                                 // 17\n        createdAt: new Date() });                                                   // 18\n                                                                                    //\n      // Clear form                                                                 //\n      // current time                                                               //\n      ReactDOM.findDOMNode(this.refs.textInput).value = '';                         // 22\n    }                                                                               // 23\n                                                                                    //\n    return handleSubmit;                                                            //\n  }();                                                                              //\n                                                                                    //\n  App.prototype.renderGuests = function () {                                        //\n    function renderGuests() {                                                       //\n      console.log(this.props);                                                      // 26\n      return this.props.guests.map(function (guest) {                               // 27\n        return React.createElement(Guest, { key: guest._id, guest: guest });        // 27\n      });                                                                           // 27\n    }                                                                               // 30\n                                                                                    //\n    return renderGuests;                                                            //\n  }();                                                                              //\n                                                                                    //\n  App.prototype.render = function () {                                              //\n    function render() {                                                             //\n      return React.createElement(                                                   // 33\n        'div',                                                                      // 34\n        { className: 'container' },                                                 // 34\n        React.createElement(                                                        // 35\n          'header',                                                                 // 35\n          null,                                                                     // 35\n          React.createElement(                                                      // 36\n            'h1',                                                                   // 36\n            null,                                                                   // 36\n            'Guest List'                                                            // 36\n          ),                                                                        // 36\n          React.createElement(                                                      // 38\n            'form',                                                                 // 38\n            { className: 'new-guest', onSubmit: this.handleSubmit.bind(this) },     // 38\n            React.createElement('input', {                                          // 39\n              type: 'text',                                                         // 40\n              ref: 'textInput',                                                     // 41\n              placeholder: 'Type to add new guests'                                 // 42\n            })                                                                      // 39\n          )                                                                         // 38\n        ),                                                                          // 35\n        React.createElement(                                                        // 47\n          'ul',                                                                     // 47\n          null,                                                                     // 47\n          this.renderGuests()                                                       // 48\n        )                                                                           // 47\n      );                                                                            // 34\n    }                                                                               // 52\n                                                                                    //\n    return render;                                                                  //\n  }();                                                                              //\n                                                                                    //\n  return App;                                                                       //\n}(Component);                                                                       //\n                                                                                    //\nApp.propTypes = {                                                                   // 55\n  guests: PropTypes.array.isRequired                                                // 56\n};                                                                                  // 55\n                                                                                    //\nmodule.export(\"default\",exports.default=(createContainer(function () {              // 59\n  return {                                                                          // 60\n    guests: Guests.find({}, { sort: { createdAt: -1 } }).fetch()                    // 61\n  };                                                                                // 60\n}, App)));                                                                          // 63\n//////////////////////////////////////////////////////////////////////////////////////\n\n}]}}},{\"extensions\":[\".js\",\".json\",\".html\",\".css\"]});\nrequire(\"./client/template.main.js\");\nrequire(\"./client/main.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["/client/template.main.js","/client/main.js","/imports/api/guests.js","/imports/ui/guest.js","/imports/ui/landing.js"],"names":[],"mappings":"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","file":"/app.js","sourcesContent":["\nTemplate.body.addContent((function() {\n  var view = this;\n  return HTML.Raw('<div id=\"render-target\"></div>');\n}));\nMeteor.startup(Template.body.renderToDocument);\n","import React from 'react';\nimport { Meteor } from 'meteor/meteor';\nimport { render } from 'react-dom';\n\nimport App from '../imports/ui/landing.js';\n\nMeteor.startup(() => {\n  render(<App />, document.getElementById('render-target'));\n});\n","import { Meteor } from 'meteor/meteor';\nimport { Mongo } from 'meteor/mongo';\nimport { check } from 'meteor/check';\n\nexport const Guests = new Mongo.Collection('guests');\n\nif (Meteor.isServer) {\n  // This code only runs on the server\n  // Only publish guests that are public or belong to the current user\n  Meteor.publish('guests', function guestsPublication() {\n    return Guests.find({\n      $or: [\n        { private: { $ne: true } },\n        { owner: this.userId },\n      ],\n    });\n  });\n}\n\nMeteor.methods({\n  'guests.insert'(text) {\n    check(text, String);\n\n    // Make sure the user is logged in before inserting a guest\n    if (! this.userId) {\n      throw new Meteor.Error('not-authorized');\n    }\n\n    Guests.insert({\n      text,\n      createdAt: new Date(),\n      owner: this.userId,\n      username: Meteor.users.findOne(this.userId).username,\n    });\n  },\n  'guests.remove'(guestId) {\n    check(guestId, String);\n\n    const guest = Guests.findOne(guestId);\n    if (guest.private && guest.owner !== this.userId) {\n      // If the guest is private, make sure only the owner can delete it\n      throw new Meteor.Error('not-authorized');\n    }\n\n    Guests.remove(guestId);\n  },\n  'guests.setChecked'(guestId, setChecked) {\n    check(guestId, String);\n    check(setChecked, Boolean);\n\n    const guest = Guests.findOne(guestId);\n    if (guest.private && guest.owner !== this.userId) {\n      // If the guest is private, make sure only the owner can check it off\n      throw new Meteor.Error('not-authorized');\n    }\n\n    Guests.update(guestId, { $set: { checked: setChecked } });\n  },\n  'guests.setPrivate'(guestId, setToPrivate) {\n    check(guestId, String);\n    check(setToPrivate, Boolean);\n\n    const guest = Guests.findOne(guestId);\n\n    // Make sure only the guest owner can make a guest private\n    if (guest.owner !== this.userId) {\n      throw new Meteor.Error('not-authorized');\n    }\n\n    Guests.update(guestId, { $set: { private: setToPrivate } });\n  },\n});\n","import React, { Component, PropTypes } from 'react';\n\n// Guest component - represents a single todo item\nexport default class Guest extends Component {\n\n  render() {\n    const guest = this.props.guest;\n    return (\n      <li>{guest.firstName} {guest.lastName}</li>\n    );\n  }\n}\n\nGuest.propTypes = {\n  guest: PropTypes.object.isRequired,\n};\n","import React, { Component, PropTypes } from 'react';\nimport ReactDOM from 'react-dom';\nimport { createContainer } from 'meteor/react-meteor-data';\nimport { Guests } from '../api/guests.js';\n\nimport Guest from './guest.js';\n\n// App component - represents the whole app\nclass App extends Component {\n  handleSubmit(event) {\n    event.preventDefault();\n\n    // Find the text field via the React ref\n    const text = ReactDOM.findDOMNode(this.refs.textInput).value.trim();\n\n    Guests.insert({\n      text,\n      createdAt: new Date(), // current time\n    });\n\n    // Clear form\n    ReactDOM.findDOMNode(this.refs.textInput).value = '';\n  }\n\n  renderGuests() {\n    console.log(this.props);\n    return this.props.guests.map((guest) => (\n      <Guest key={guest._id} guest={guest} />\n    ));\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <header>\n          <h1>Guest List</h1>\n\n          <form className=\"new-guest\" onSubmit={this.handleSubmit.bind(this)} >\n            <input\n              type=\"text\"\n              ref=\"textInput\"\n              placeholder=\"Type to add new guests\"\n            />\n          </form>\n        </header>\n\n        <ul>\n          {this.renderGuests()}\n        </ul>\n      </div>\n    );\n  }\n}\n\nApp.propTypes = {\n  guests: PropTypes.array.isRequired,\n};\n\nexport default createContainer(() => {\n  return {\n    guests: Guests.find({}, { sort: { createdAt: -1 } }).fetch(),\n  };\n}, App);\n"]}}]